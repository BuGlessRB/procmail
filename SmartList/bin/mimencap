# procmail rcfile
#########################################################################
#	mimencap	Encapsulates a file in the necessary MIME	#
#			wrapper						#
#									#
#	Created by S.R. van den Berg, The Netherlands			#
#########################################################################
#$Id: mimencap,v 1.5 1994/06/08 15:00:28 berg Exp $

DEFAULT=|

:0
* ^Content-Type:
|

INCLUDERC=../SedBinDir/mimencap.local

:0
* !^Content-Transfer-Encoding:
{
  :0 B
  * [^- -~-]
  {
    :0 B
    * [^- -~-][^- -~-][^- -~-][^- -~-][^- -~-][^- -~-]\
       [^- -~-][^- -~-]
    {
      :0 wfb
      | $mimencode -b

      :0 wfh
      | $formail -fb -I "MIME-Version: 1.0" \
	 -a "Content-Type: application/octet-stream" \
	 -I "Content-Transfer-Encoding: base64"

      :0
      |
    }

    :0 wfb
    | $mimencode -q

    :0 wfh
    | $formail -fb -I "MIME-Version: 1.0" \
       -a "Content-Type: application/octet-stream" \
       -I "Content-Transfer-Encoding: quoted-printable"

    :0
    |
  }
}

:0 wfh
* !^MIME-Version:
| $formail -fb -I "MIME-Version: 1.0"
